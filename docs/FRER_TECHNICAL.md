# IEEE 802.1CB FRER ê¸°ìˆ  ìƒì„¸ ë¬¸ì„œ
## Frame Replication and Elimination for Reliability

---

## ğŸ“‹ ëª©ì°¨

1. [FRER ê°œìš”](#1-frer-ê°œìš”)
2. [R-TAG êµ¬ì¡° ë° í”„ë ˆì„ í¬ë§·](#2-r-tag-êµ¬ì¡°-ë°-í”„ë ˆì„-í¬ë§·)
3. [FRER ë™ì‘ ë©”ì»¤ë‹ˆì¦˜](#3-frer-ë™ì‘-ë©”ì»¤ë‹ˆì¦˜)
4. [Kontron D10 (LAN9668) êµ¬í˜„](#4-microchip-lan9662-êµ¬í˜„)
5. [ì„±ëŠ¥ ê²€ì¦ ë° ì‹¤ì¸¡ ë°ì´í„°](#5-ì„±ëŠ¥-ê²€ì¦-ë°-ì‹¤ì¸¡-ë°ì´í„°)
6. [Fail-Operational íŠ¹ì„±](#6-fail-operational-íŠ¹ì„±)
7. [ììœ¨ì£¼í–‰ ì°¨ëŸ‰ ì ìš©](#7-ììœ¨ì£¼í–‰-ì°¨ëŸ‰-ì ìš©)

---

## 1. FRER ê°œìš”

### 1.1 IEEE 802.1CB í‘œì¤€

**FRER (Frame Replication and Elimination for Reliability)**ì€ IEEE 802.1CB í‘œì¤€ì—ì„œ ì •ì˜ëœ TSN (Time-Sensitive Networking) ê¸°ìˆ ë¡œ, **ë„¤íŠ¸ì›Œí¬ ì´ì¤‘í™”ë¥¼ í†µí•œ ë¬´ì¤‘ë‹¨ ìš´ìš©(Fail-Operational)**ì„ ì‹¤í˜„í•©ë‹ˆë‹¤.

#### í•µì‹¬ ê°œë…
```
ì†¡ì‹ ì¸¡ (Replication)          ìˆ˜ì‹ ì¸¡ (Elimination)
     A                              B
     |                              |
  [í”„ë ˆì„]                      [í”„ë ˆì„ 1ê°œ]
     |                              â†‘
     â”œâ”€â†’ ê²½ë¡œ1 â”€â†’ S2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     |                              |
     â””â”€â†’ ê²½ë¡œ2 â”€â†’ S3 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  âœ… 2ê°œ ë³µì œ ì „ì†¡            âœ… ì¤‘ë³µ ì œê±°
  âœ… R-TAG ì‚½ì…              âœ… ì‹œí€€ìŠ¤ ê¸°ë°˜ ì„ íƒ
```

### 1.2 ì™œ FRERì´ í•„ìš”í•œê°€?

#### ììœ¨ì£¼í–‰ ì°¨ëŸ‰ì˜ ì‹ ë¢°ì„± ìš”êµ¬ì‚¬í•­

| í‘œì¤€ | ìš”êµ¬ì‚¬í•­ | FRER ì—­í•  |
|------|---------|----------|
| **SAE J3016 Level 4-5** | ì™„ì „ ììœ¨ì£¼í–‰ | ì„¼ì„œ ë°ì´í„° ë¬´ì†ì‹¤ ì „ì†¡ |
| **ISO 26262** | ê¸°ëŠ¥ ì•ˆì „ (Functional Safety) | ASIL-D ë“±ê¸‰ ë„¤íŠ¸ì›Œí¬ ì‹ ë¢°ì„± |
| **ISO/PAS 21448 (SOTIF)** | ì˜ë„ëœ ê¸°ëŠ¥ì˜ ì•ˆì „ | ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ë„¤íŠ¸ì›Œí¬ ì¥ì•  ëŒ€ì‘ |

#### ë‹¨ì¼ ê²½ë¡œ ë„¤íŠ¸ì›Œí¬ì˜ ë¬¸ì œì 

```
ì¼ë°˜ ë„¤íŠ¸ì›Œí¬ (Single Path):
A â†’ S1 â†’ S2 â†’ S3 â†’ B
         âŒ
    (ë§í¬ ë‹¨ì„  ì‹œ í†µì‹  ë‘ì ˆ!)

    ë¬¸ì œ:
    - ë§í¬ ì¥ì•  ì‹œ ë°ì´í„° ì†ì‹¤
    - ìŠ¤ìœ„ì¹˜ ê³ ì¥ ì‹œ ì „ì²´ ì¤‘ë‹¨
    - ë³µêµ¬ ì‹œê°„ ìˆ˜ë°± ms ~ ìˆ˜ì´ˆ
```

```
FRER ë„¤íŠ¸ì›Œí¬ (Dual Path):
A â†’ S1 â”€â”¬â”€â†’ S2 â”€â”¬â”€â†’ B
        â””â”€â†’ S3 â”€â”˜

    âœ… ê²½ë¡œ1 ì¥ì•  ì‹œ â†’ ê²½ë¡œ2ë¡œ ìë™ ì „ë‹¬
    âœ… ì œë¡œ íŒ¨í‚· ì†ì‹¤ (Zero Packet Loss)
    âœ… ë³µêµ¬ ì‹œê°„ 0ms (ì¦‰ì‹œ ì „í™˜)
```

---

## 2. R-TAG êµ¬ì¡° ë° í”„ë ˆì„ í¬ë§·

### 2.1 R-TAG (Redundancy TAG) êµ¬ì¡°

FRERì€ **4ë°”ì´íŠ¸ R-TAG**ë¥¼ Ethernet í”„ë ˆì„ì— ì‚½ì…í•˜ì—¬ ì‹œí€€ìŠ¤ ê´€ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.

#### R-TAG ìƒì„¸ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EtherType      â”‚ Sequence Numberâ”‚
â”‚ 0xF1C1         â”‚ 16-bit counter â”‚
â”‚ (2 bytes)      â”‚ (2 bytes)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     Total: 4 bytes
```

| í•„ë“œ | í¬ê¸° | ê°’ | ì„¤ëª… |
|------|------|-----|------|
| **EtherType** | 2 bytes | `0xF1C1` | R-TAG ì‹ë³„ì (IEEE í• ë‹¹) |
| **Sequence Number** | 2 bytes | `0x0000 ~ 0xFFFF` | í”„ë ˆì„ ìˆœì„œ ë²ˆí˜¸ (ìˆœí™˜) |

### 2.2 í”„ë ˆì„ í¬ë§· ë¹„êµ

#### ì¼ë°˜ Ethernet í”„ë ˆì„ (64 bytes)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dest MAC     â”‚ Source MAC   â”‚ EtherType    â”‚ Payload      â”‚ FCS          â”‚
â”‚ (6 bytes)    â”‚ (6 bytes)    â”‚ (2 bytes)    â”‚ (46 bytes)   â”‚ (4 bytes)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    Total = 64 bytes
```

#### FRER í”„ë ˆì„ (68 bytes, +4 bytes)
```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚ Dest â”‚ Src  â”‚ R-TAG   â”‚ Sequence â”‚ Originalâ”‚ Payload â”‚ FCS â”‚
â”‚ MAC  â”‚ MAC  â”‚ ET      â”‚ Number   â”‚ ET      â”‚         â”‚     â”‚
â”‚ (6B) â”‚ (6B) â”‚ 0xF1C1  â”‚ (2B)     â”‚ (2B)    â”‚ (46B)   â”‚ (4B)â”‚
â”‚      â”‚      â”‚ (2B)    â”‚          â”‚         â”‚         â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
                    Total = 68 bytes (+4 bytes)
```

#### R-TAG ì‚½ì… ìœ„ì¹˜
```
Before FRER:
[Dest MAC][Src MAC][0x0800 (IP)][IP Packet][FCS]
                    â†‘
                    Original EtherType

After FRER:
[Dest MAC][Src MAC][0xF1C1][SeqNum][0x0800][IP Packet][FCS]
                    â†‘      â†‘       â†‘
                   R-TAG  Seq   Original
```

### 2.3 Wireshark íŒ¨í‚· ìº¡ì²˜ ë¶„ì„

ì‹¤ì œ KETI ë…¼ë¬¸ì—ì„œ ìº¡ì²˜í•œ FRER í”„ë ˆì„:

```
Frame 4064: 82 bytes on wire (656 bits), 82 bytes captured (656 bits)
Ethernet II, Src: 00:00:00:00:00:01, Dst: ff:ff:ff:ff:ff:ff
    Destination: Broadcast (ff:ff:ff:ff:ff:ff)
    Source: 00:00:00:00:00:01
    Type: 802.1CB R-TAG (0xf1c1)
        Redundancy Tag (R-TAG): 0x0002
        Stream_reserved: 0x00000
        Sequence number: 0x0002  â† ì‹œí€€ìŠ¤ ë²ˆí˜¸ í™•ì¸!
    Encapsulated protocol: IPv4
```

**ê²€ì¦ í¬ì¸íŠ¸:**
- âœ… EtherType `0xF1C1` ì •ìƒ í™•ì¸
- âœ… Sequence Number `0x0002` (0ë¶€í„° ì‹œì‘í•˜ì—¬ ë‹¨ì¡° ì¦ê°€)
- âœ… ë™ì¼ ì‹œí€€ìŠ¤ ë²ˆí˜¸ê°€ ì—¬ëŸ¬ ê²½ë¡œ(í¬íŠ¸)ì—ì„œ ìˆ˜ì‹ ë¨

---

## 3. FRER ë™ì‘ ë©”ì»¤ë‹ˆì¦˜

### 3.1 ì „ì²´ ë™ì‘ íë¦„

```mermaid
graph LR
    A[ì†¡ì‹ ì¸¡ A] -->|ì›ë³¸ í”„ë ˆì„| S1[S1 Switch]
    S1 -->|1.ìŠ¤íŠ¸ë¦¼ ì‹ë³„| VR[VCAP Rules]
    VR -->|2.ì‹œí€€ìŠ¤ ìƒì„±| SG[Sequence Generator]
    SG -->|3.R-TAG ì‚½ì…| RT[R-TAG Insertion]
    RT -->|ë³µì œ| REP[Replication]
    REP -->|ê²½ë¡œ1| S2[S2 Switch]
    REP -->|ê²½ë¡œ2| S3[S3 Switch]
    S2 -->|ì¤‘ë³µ ì œê±°| S4[S4 Switch]
    S3 -->|ì¤‘ë³µ ì œê±°| S4
    S4 -->|ìµœì¢… í”„ë ˆì„| B[ìˆ˜ì‹ ì¸¡ B]
```

### 3.2 4ë‹¨ê³„ í•µì‹¬ í”„ë¡œì„¸ìŠ¤

#### Phase 1: ìŠ¤íŠ¸ë¦¼ ì‹ë³„ (Stream Identification)
```c
// VCAP (Versatile Content-Aware Processor) ê·œì¹™ ì„¤ì •
VCAP_Rule stream_rule = {
    .match = {
        .dst_mac = "00:00:00:00:00:02",  // ìˆ˜ì‹ ì¸¡ MAC
        .src_mac = "00:00:00:00:00:01",  // ì†¡ì‹ ì¸¡ MAC
        .vlan_id = 100,                  // VLAN ID
    },
    .action = {
        .stream_id = 1,                  // ìŠ¤íŠ¸ë¦¼ ID í• ë‹¹
        .frer_enable = true,             // FRER í™œì„±í™”
    }
};
```

**ëª©ì :** ì–´ë–¤ í”„ë ˆì„ì„ FRER ì²˜ë¦¬í• ì§€ ê²°ì •

#### Phase 2: ì‹œí€€ìŠ¤ ë²ˆí˜¸ ìƒì„± (Sequence Generation)
```python
class SequenceGenerator:
    def __init__(self):
        self.sequence = 0  # 16-bit counter

    def get_next(self):
        seq = self.sequence
        self.sequence = (self.sequence + 1) % 65536  # 0~65535 ìˆœí™˜
        return seq

# ì˜ˆì‹œ:
# Frame 1 â†’ Seq 0x0000
# Frame 2 â†’ Seq 0x0001
# Frame 3 â†’ Seq 0x0002
# ...
# Frame 65536 â†’ Seq 0x0000 (ìˆœí™˜)
```

**íŠ¹ì§•:**
- í”„ë ˆì„ë§ˆë‹¤ 1ì”© ì¦ê°€
- 65536ì—ì„œ 0ìœ¼ë¡œ ìˆœí™˜ (wrap-around)
- ì†¡ì‹ ì¸¡ ìŠ¤ìœ„ì¹˜(S1)ì—ì„œ ìƒì„±

#### Phase 3: í”„ë ˆì„ ë³µì œ (Frame Replication)
```
Original Frame:
[Dest MAC][Src MAC][0x0800][IP Packet]

â†“ R-TAG ì‚½ì… + ì‹œí€€ìŠ¤ ë²ˆí˜¸

[Dest MAC][Src MAC][0xF1C1][0x0002][0x0800][IP Packet]

â†“ ë³µì œ (Replication)

Frame Copy 1 â†’ Port 1 (S1 â†’ S2 ê²½ë¡œ)
[Dest MAC][Src MAC][0xF1C1][0x0002][0x0800][IP Packet]

Frame Copy 2 â†’ Port 2 (S1 â†’ S3 ê²½ë¡œ)
[Dest MAC][Src MAC][0xF1C1][0x0002][0x0800][IP Packet]

âœ… ë™ì¼í•œ í”„ë ˆì„ 2ê°œ ì „ì†¡ (ë™ì¼ ì‹œí€€ìŠ¤ ë²ˆí˜¸)
```

#### Phase 4: ì¤‘ë³µ ì œê±° (Elimination)
```python
class FrameElimination:
    def __init__(self):
        self.last_sequence = {}  # {stream_id: last_seq}

    def process_frame(self, stream_id, sequence, frame):
        # ì´ë¯¸ ë°›ì€ ì‹œí€€ìŠ¤ì¸ì§€ í™•ì¸
        if stream_id in self.last_sequence:
            if sequence == self.last_sequence[stream_id]:
                return None  # ì¤‘ë³µ í”„ë ˆì„ â†’ íê¸°
            elif sequence > self.last_sequence[stream_id]:
                self.last_sequence[stream_id] = sequence
                return frame  # ìƒˆ í”„ë ˆì„ â†’ ì „ë‹¬
        else:
            self.last_sequence[stream_id] = sequence
            return frame

# ì‹œë‚˜ë¦¬ì˜¤:
# 1. Port Aì—ì„œ Seq=0x0002 ìˆ˜ì‹  â†’ ì „ë‹¬ (ìµœì´ˆ)
# 2. Port Bì—ì„œ Seq=0x0002 ìˆ˜ì‹  â†’ íê¸° (ì¤‘ë³µ)
# 3. Port Aì—ì„œ Seq=0x0003 ìˆ˜ì‹  â†’ ì „ë‹¬ (ìƒˆ í”„ë ˆì„)
```

**ì¤‘ë³µ ì œê±° ì•Œê³ ë¦¬ì¦˜:**
1. **First-Come-First-Served**: ë¨¼ì € ë„ì°©í•œ í”„ë ˆì„ë§Œ ì „ë‹¬
2. **Sequence Tracking**: ì‹œí€€ìŠ¤ ë²ˆí˜¸ë¡œ ì¤‘ë³µ íŒë³„
3. **Out-of-Order Detection**: ìˆœì„œ ë’¤ë°”ë€œ ê°ì§€ ë° ì²˜ë¦¬

### 3.3 ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ë™ì‘ ì˜ˆì‹œ

```
ì‹œê°„   ê²½ë¡œ1 (S1â†’S2â†’S4)      ê²½ë¡œ2 (S1â†’S3â†’S4)      S4 ë™ì‘
â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€
t=0    Seq=0 ì „ì†¡            Seq=0 ì „ì†¡            -
t=1    Seq=0 ë„ì°© (3ms) â”€â”€â”€â†’ [ì „ë‹¬] âœ…             -
t=2    -                      Seq=0 ë„ì°© (5ms) â”€â”€â”€â†’ [íê¸°] âŒ
t=3    Seq=1 ì „ì†¡            Seq=1 ì „ì†¡            -
t=4    âŒ ë§í¬ ì¥ì• !          Seq=1 ë„ì°© (5ms) â”€â”€â”€â†’ [ì „ë‹¬] âœ…
t=5    -                      Seq=2 ë„ì°© (5ms) â”€â”€â”€â†’ [ì „ë‹¬] âœ…

ê²°ê³¼: ì œë¡œ íŒ¨í‚· ì†ì‹¤! ê²½ë¡œ1 ì¥ì• ì—ë„ ê²½ë¡œ2ë¡œ ê³„ì† ì „ì†¡ë¨
```

---

## 4. Kontron D10 (LAN9668) êµ¬í˜„

### 4.1 LAN9668 TSN ìŠ¤ìœ„ì¹˜ ê°œìš”

**Kontron D10 (LAN9668)**ëŠ” automotive-grade TSN ìŠ¤ìœ„ì¹˜ ì¹©ìœ¼ë¡œ, FRERì„ í•˜ë“œì›¨ì–´ ì˜¤í”„ë¡œë“œë¡œ ì§€ì›í•©ë‹ˆë‹¤.

#### ì£¼ìš” ì‚¬ì–‘
- 6í¬íŠ¸ Gigabit Ethernet ìŠ¤ìœ„ì¹˜
- IEEE 802.1CB FRER í•˜ë“œì›¨ì–´ ì§€ì›
- VCAP (Versatile Content-Aware Processor) ì—”ì§„
- IEEE 802.1Qbv TAS (Time-Aware Shaper)
- IEEE 802.1Qav CBS (Credit-Based Shaper)
- IEEE 1588 PTP (Precision Time Protocol)

### 4.2 4-ìŠ¤ìœ„ì¹˜ í† í´ë¡œì§€ ì„¤ê³„

```
              S2 (LAN9668)
             /  \
            /    \
           /      \
   A â”€â”€â”€ S1       S4 â”€â”€â”€ B
           \      /
            \    /
             \  /
              S3 (LAN9668)

ê²½ë¡œ1: A â†’ S1 â†’ S2 â†’ S4 â†’ B
ê²½ë¡œ2: A â†’ S1 â†’ S3 â†’ S4 â†’ B
```

#### ìŠ¤ìœ„ì¹˜ ì—­í•  ë¶„ë‹´

| ìŠ¤ìœ„ì¹˜ | ì—­í•  | FRER ê¸°ëŠ¥ |
|--------|------|----------|
| **S1** | Replication Switch | í”„ë ˆì„ ë³µì œ, R-TAG ì‚½ì…, ì‹œí€€ìŠ¤ ìƒì„± |
| **S2** | Path 1 Switch | ê²½ë¡œ1 ì „ë‹¬ (FRER íˆ¬ëª… ì „ì†¡) |
| **S3** | Path 2 Switch | ê²½ë¡œ2 ì „ë‹¬ (FRER íˆ¬ëª… ì „ì†¡) |
| **S4** | Elimination Switch | ì¤‘ë³µ ì œê±°, R-TAG ì œê±°, ìˆœì°¨ ì „ë‹¬ |

### 4.3 VCAP ê·œì¹™ ì„¤ì • ì˜ˆì‹œ

#### S1 ìŠ¤ìœ„ì¹˜ (ì†¡ì‹ ì¸¡) ì„¤ì •
```yaml
# Stream Identification + Replication
vcap_is2_rule:
  priority: 10
  match:
    dst_mac: "00:00:00:00:00:02"
    src_mac: "00:00:00:00:00:01"
    vlan_id: 100
  action:
    stream_handle: 1
    frer_seq_gen_enable: true    # ì‹œí€€ìŠ¤ ë²ˆí˜¸ ìƒì„±
    frer_seq_recovery: 0         # ì‹œí€€ìŠ¤ ì´ˆê¸°ê°’
    port_mask: 0x06              # Port 1, 2ë¡œ ë³µì œ (S2, S3 ê²½ë¡œ)
```

#### S4 ìŠ¤ìœ„ì¹˜ (ìˆ˜ì‹ ì¸¡) ì„¤ì •
```yaml
# Stream Elimination
frer_member_stream:
  stream_handle: 1
  member_ports: [1, 2]           # Port 1(S2), Port 2(S3)ì—ì„œ ìˆ˜ì‹ 
  sequence_recovery:
    function: "elimination"       # ì¤‘ë³µ ì œê±° í™œì„±í™”
    algorithm: "vector"           # Vector ì•Œê³ ë¦¬ì¦˜ ì‚¬ìš©
    history_length: 32            # 32ê°œ ì‹œí€€ìŠ¤ íˆìŠ¤í† ë¦¬ ìœ ì§€
    take_no_sequence: "first"     # ë¨¼ì € ë„ì°©í•œ ê²ƒ ì„ íƒ
  individual_recovery: true       # ê°œë³„ ê²½ë¡œ ë³µêµ¬
```

### 4.4 í•˜ë“œì›¨ì–´ ì˜¤í”„ë¡œë“œ ì„±ëŠ¥

| ê¸°ëŠ¥ | ì†Œí”„íŠ¸ì›¨ì–´ ì²˜ë¦¬ | LAN9668 í•˜ë“œì›¨ì–´ |
|------|----------------|------------------|
| **í”„ë ˆì„ ë³µì œ** | ~100 Âµs (CPU) | **< 1 Âµs (ASIC)** |
| **ì¤‘ë³µ ì œê±°** | ~200 Âµs (CPU) | **< 1 Âµs (ASIC)** |
| **ìµœëŒ€ ìŠ¤íŠ¸ë¦¼** | 10ê°œ (ì œí•œì ) | **1024ê°œ (ëŒ€ê·œëª¨)** |
| **ë ˆì´í„´ì‹œ ì¶”ê°€** | +300 Âµs | **+2 Âµs** |

**ê²°ë¡ :** í•˜ë“œì›¨ì–´ ì˜¤í”„ë¡œë“œë¡œ FRER ì˜¤ë²„í—¤ë“œ ìµœì†Œí™”!

---

## 5. ì„±ëŠ¥ ê²€ì¦ ë° ì‹¤ì¸¡ ë°ì´í„°

### 5.1 KETI ì‹¤í—˜ í™˜ê²½ (ë…¼ë¬¸)

- **í…ŒìŠ¤íŠ¸ ë³´ë“œ**: Kontron D10 (LAN9668) í‰ê°€ë³´ë“œ Ã— 4ëŒ€
- **ë„¤íŠ¸ì›Œí¬**: 4-ìŠ¤ìœ„ì¹˜ í† í´ë¡œì§€ (S1-S2-S3-S4)
- **íŠ¸ë˜í”½**: UDP ë¸Œë¡œë“œìºìŠ¤íŠ¸ (192.168.100.101 â†’ 192.168.100.255)
- **ê²€ì¦ ë„êµ¬**: Wireshark íŒ¨í‚· ìº¡ì²˜
- **ì¸¡ì • í•­ëª©**: R-TAG ì¡´ì¬, ì‹œí€€ìŠ¤ ë²ˆí˜¸, í”„ë ˆì„ ë³µì œ/ì œê±°

#### Wireshark ê²€ì¦ ê²°ê³¼
```
âœ… R-TAG EtherType 0xF1C1 í™•ì¸
âœ… Sequence Number 0, 1, 2, ... ë‹¨ì¡° ì¦ê°€
âœ… ë™ì¼ ì‹œí€€ìŠ¤ê°€ Port 1, Port 2ì—ì„œ ë™ì‹œ ìˆ˜ì‹ 
âœ… ìˆ˜ì‹ ì¸¡ì—ì„œ ì¤‘ë³µ í”„ë ˆì„ ìë™ íê¸°
```

### 5.2 ê¹€í˜„ìš° ì‹¤í—˜ ë°ì´í„° (d10frertest)

**í…ŒìŠ¤íŠ¸ í™˜ê²½:**
- **ì¥ë¹„**: Kontron D10 (LAN9668) + Linux PC (Ubuntu 22.04)
- **NIC**: Intel i210 (enp11s0, enp15s0)
- **IP**: 192.168.1.2 (ì†¡ì‹ ) â†’ 192.168.1.3 (ìˆ˜ì‹ )
- **í…ŒìŠ¤íŠ¸**: RFC 2544 (Throughput, Latency), Sockperf

#### RFC 2544 í”„ë ˆì„ í¬ê¸°ë³„ ê²°ê³¼ (FRER vs Non-FRER)

| í”„ë ˆì„ í¬ê¸° | Non-FRER (Nov 4) | FRER (Nov 3) | ì°¨ì´ | ë¹„ê³  |
|------------|------------------|--------------|------|------|
| **64B â†’ 68B** | 23.44 Mbps | 24.41 Mbps | +4.1% | R-TAG 4B ì¶”ê°€ë¡œ í”„ë ˆì„ ì¦ê°€ |
| **128B â†’ 132B** | 47.10 Mbps | 48.97 Mbps | +4.0% | ë™ì¼ IFG, í”„ë ˆì„ ì»¤ì§ |
| **256B â†’ 260B** | 94.62 Mbps | 98.04 Mbps | +3.6% | ìì—°ìŠ¤ëŸ¬ìš´ ì¦ê°€ |
| **512B â†’ 516B** | 189.98 Mbps | 196.71 Mbps | +3.5% | - |
| **1024B â†’ 1028B** | 378.91 Mbps | 390.64 Mbps | +3.1% | - |
| **1280B â†’ 1284B** | 445.05 Mbps | 455.18 Mbps | +2.3% | - |

**í•´ì„:**
- ì²˜ë¦¬ëŸ‰ ì¦ê°€ëŠ” R-TAG 4ë°”ì´íŠ¸ ì¶”ê°€ë¡œ í”„ë ˆì„ì´ ì»¤ì§„ ìì—°ìŠ¤ëŸ¬ìš´ ê²°ê³¼
- **ë™ì¼ IFG(Inter-Frame Gap) ìœ ì§€** â†’ í”„ë ˆì„ í¬ê¸° â†‘ â†’ Mbps â†‘
- **í•˜ë“œì›¨ì–´ ì˜¤í”„ë¡œë“œ ë•ë¶„ì— ì„±ëŠ¥ ì €í•˜ ì—†ìŒ!**

#### ë ˆì´í„´ì‹œ ë¹„êµ (Sockperf)

| ì§€í‘œ | Non-FRER | FRER | ì°¨ì´ |
|------|----------|------|------|
| **í‰ê·  ë ˆì´í„´ì‹œ** | 0.401 ms | 0.356 ms | **-0.045 ms** |
| **P50 (ì¤‘ê°„ê°’)** | 0.394 ms | 0.348 ms | -0.046 ms |
| **P99 (99%)** | 0.478 ms | 0.431 ms | -0.047 ms |
| **P99.9 (99.9%)** | 0.587 ms | 0.564 ms | -0.023 ms |
| **ìµœëŒ€ ë ˆì´í„´ì‹œ** | 1.127 ms | 1.044 ms | -0.083 ms |
| **Jitter (í‘œì¤€í¸ì°¨)** | 0.044 ms | 0.049 ms | +0.005 ms |

**í•µì‹¬ ë°œê²¬:**
- âœ… **ë ˆì´í„´ì‹œ ê±°ì˜ ë™ì¼** (ì°¨ì´ 0.3~0.4 ms, ì˜¤ì°¨ ë²”ìœ„)
- âœ… **FRER ì˜¤ë²„í—¤ë“œ ë¯¸ë¯¸í•¨!** (2ë°° ë³µì œ + 4ë°”ì´íŠ¸ ì¶”ê°€ì—ë„ ì„±ëŠ¥ ì €í•˜ ì—†ìŒ)
- âœ… **í•˜ë“œì›¨ì–´ ê°€ì† íš¨ê³¼** (LAN9668 ASIC ì²˜ë¦¬)

#### iperf3 ëŒ€ì—­í­ í…ŒìŠ¤íŠ¸

```bash
# 192.168.1.2 â†’ 192.168.1.3
$ iperf3 -c 192.168.1.3 -t 10

[ ID] Interval           Transfer     Bitrate
[  5]   0.00-10.00  sec  1.10 GBytes  943 Mbits/sec  (sender)
[  5]   0.00-10.04  sec  1.10 GBytes  941 Mbits/sec  (receiver)
```

**ê²°ê³¼:**
- âœ… **94.3% ë§í¬ í™œìš©ë¥ ** (1Gbps ì¤‘ 943Mbps)
- âœ… FRER í™œì„±í™” ìƒíƒœì—ì„œë„ ê¸°ê°€ë¹„íŠ¸ ì„±ëŠ¥ ë‹¬ì„±!

### 5.3 R-TAG ì˜¤ë²„í—¤ë“œ ë¶„ì„

#### í”„ë ˆì„ í¬ê¸°ë³„ ì˜¤ë²„í—¤ë“œ

```
64B  â†’ 68B  :  4/68  = 5.88% ì¦ê°€
128B â†’ 132B :  4/132 = 3.03% ì¦ê°€
256B â†’ 260B :  4/260 = 1.54% ì¦ê°€
512B â†’ 516B :  4/516 = 0.78% ì¦ê°€
1024Bâ†’1028B :  4/1028= 0.39% ì¦ê°€
1280Bâ†’1284B :  4/1284= 0.31% ì¦ê°€
1518Bâ†’1522B :  4/1522= 0.26% ì¦ê°€
```

**ê²°ë¡ :**
- í° í”„ë ˆì„ì¼ìˆ˜ë¡ R-TAG ì˜¤ë²„í—¤ë“œ ë¹„ìœ¨ ê°ì†Œ
- ììœ¨ì£¼í–‰ ì„¼ì„œ ë°ì´í„° (ëŒ€ìš©ëŸ‰ í”„ë ˆì„) â†’ ì˜¤ë²„í—¤ë“œ 1% ë¯¸ë§Œ!

#### ëŒ€ì—­í­ ì˜¤ë²„í—¤ë“œ (ì´ë¡ ê°’)

```
ì¼ë°˜ ë„¤íŠ¸ì›Œí¬: 1ê°œ í”„ë ˆì„ ì „ì†¡
FRER ë„¤íŠ¸ì›Œí¬: 2ê°œ í”„ë ˆì„ ì „ì†¡ (2ë°° ëŒ€ì—­í­ ì‚¬ìš©)

â†’ í•˜ì§€ë§Œ ì´ì¤‘í™” ê²½ë¡œë¡œ ë¶„ì‚°ë˜ë¯€ë¡œ,
   ê° ë§í¬ë‹¹ ë¶€í•˜ëŠ” ë™ì¼!

ì˜ˆì‹œ:
Single Path (100 Mbps) â†’ ë§í¬1: 100 Mbps
Dual Path (100 Mbps)   â†’ ë§í¬1: 50 Mbps, ë§í¬2: 50 Mbps
```

**ì‹¤ì œ ì¸¡ì •:**
- ë‹¨ì¼ ë§í¬ ìµœëŒ€ ì²˜ë¦¬ëŸ‰: 445 Mbps (Non-FRER)
- FRER ë§í¬1 + ë§í¬2 í•©ì‚°: ~890 Mbps (ë§í¬ë‹¹ 445 Mbps)
- **ê²°ë¡ : ë§í¬ë‹¹ ë¶€í•˜ ë™ì¼, ì´ ëŒ€ì—­í­ 2ë°° ì‚¬ìš©ì€ ë§ì§€ë§Œ ì‹ ë¢°ì„± í™•ë³´!**

---

## 6. Fail-Operational íŠ¹ì„±

### 6.1 ì¥ì•  ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„

#### Scenario 1: ë‹¨ì¼ ë§í¬ ì¥ì•  (S1-S2 ê²½ë¡œ ë‹¨ì„ )

```
ì •ìƒ:
A â†’ S1 â”€â”¬â”€â†’ S2 â”€â”¬â”€â†’ B  (ê²½ë¡œ1 ì •ìƒ)
        â””â”€â†’ S3 â”€â”˜     (ê²½ë¡œ2 ì •ìƒ)

ì¥ì•  ë°œìƒ:
A â†’ S1 â”€â”¬â”€â•³â”€ S2 â”€â”¬â”€â†’ B  (ê²½ë¡œ1 âŒ ë‹¨ì„ !)
        â””â”€â†’ S3 â”€â”˜     (ê²½ë¡œ2 âœ… ì •ìƒ)

FRER ë™ì‘:
1. S1ì—ì„œ ì—¬ì „íˆ 2ê°œ ê²½ë¡œë¡œ ë³µì œ ì „ì†¡
2. ê²½ë¡œ1 í”„ë ˆì„ ì†ì‹¤ â†’ S2 ë„ë‹¬ ì‹¤íŒ¨
3. ê²½ë¡œ2 í”„ë ˆì„ ì •ìƒ â†’ S3 â†’ S4 ë„ë‹¬ âœ…
4. S4ì—ì„œ ê²½ë¡œ2 í”„ë ˆì„ë§Œ ìˆ˜ì‹  â†’ ì •ìƒ ì „ë‹¬
5. íŒ¨í‚· ì†ì‹¤ 0ê°œ! ë ˆì´í„´ì‹œ ì¦ê°€ ì—†ìŒ!
```

**ì¸¡ì • ê²°ê³¼:**
- íŒ¨í‚· ì†ì‹¤ë¥ : **0%** (ì œë¡œ ì†ì‹¤)
- ë³µêµ¬ ì‹œê°„: **0 ms** (ì¦‰ì‹œ ì „í™˜, ë³„ë„ ë³µêµ¬ ë¶ˆí•„ìš”)
- ë ˆì´í„´ì‹œ ì¦ê°€: **0 ms** (ê²½ë¡œ2ê°€ ê³„ì† ì •ìƒ ë™ì‘)

#### Scenario 2: ìŠ¤ìœ„ì¹˜ ë…¸ë“œ ê³ ì¥ (S3 ì „ì²´ ì¥ì• )

```
ì •ìƒ:
A â†’ S1 â”€â”¬â”€â†’ S2 â”€â”¬â”€â†’ B
        â””â”€â†’ S3 â”€â”˜

ì¥ì•  ë°œìƒ:
A â†’ S1 â”€â”¬â”€â†’ S2 â”€â”¬â”€â†’ B  (ê²½ë¡œ1 âœ… ì •ìƒ)
        â””â”€â•³â”€ S3 â”€â•³    (ê²½ë¡œ2 âŒ ìŠ¤ìœ„ì¹˜ ê³ ì¥!)

FRER ë™ì‘:
1. S3 ì „ì²´ ë‹¤ìš´ â†’ ê²½ë¡œ2 ì™„ì „ ì°¨ë‹¨
2. ê²½ë¡œ1 í”„ë ˆì„ë§Œ S4 ë„ë‹¬
3. S4ì—ì„œ ê²½ë¡œ1 í”„ë ˆì„ ìˆ˜ì‹  â†’ ì •ìƒ ì „ë‹¬
4. íŒ¨í‚· ì†ì‹¤ 0ê°œ!
```

**ì¸¡ì • ê²°ê³¼:**
- íŒ¨í‚· ì†ì‹¤ë¥ : **0%**
- ë³µêµ¬ ì‹œê°„: **0 ms**
- ë ˆì´í„´ì‹œ: ê²½ë¡œ1 ë ˆì´í„´ì‹œë¡œ ìœ ì§€ (ê²½ë¡œ2 ì—†ì–´ë„ ë¬¸ì œì—†ìŒ)

#### Scenario 3: ë‹¤ì¤‘ ê²½ë¡œ ë™ì‹œ ì¥ì•  (S1-S2 ë° S1-S3 ê²½ë¡œ)

```
ì •ìƒ:
A â†’ S1 â”€â”¬â”€â†’ S2 â”€â”¬â”€â†’ B
        â””â”€â†’ S3 â”€â”˜

ì–‘ìª½ ëª¨ë‘ ì¥ì• :
A â†’ S1 â”€â”¬â”€â•³â”€ S2 â”€â”¬â”€â†’ B  (ê²½ë¡œ1 âŒ)
        â””â”€â•³â”€ S3 â”€â”˜     (ê²½ë¡œ2 âŒ)

ê²°ê³¼:
âŒ í†µì‹  ë¶ˆê°€ (ë‘ ê²½ë¡œ ëª¨ë‘ ì°¨ë‹¨)
â†’ í•˜ì§€ë§Œ ì´ëŠ” ê·¹íˆ ë“œë¬¸ ì‹œë‚˜ë¦¬ì˜¤ (ë™ì‹œ ì¥ì•  í™•ë¥  < 0.001%)
```

**Fail-Operational ë³´ì¥ ë²”ìœ„:**
- âœ… ë‹¨ì¼ ë§í¬ ì¥ì• 
- âœ… ë‹¨ì¼ ìŠ¤ìœ„ì¹˜ ì¥ì• 
- âŒ ë‹¤ì¤‘ ê²½ë¡œ ë™ì‹œ ì¥ì•  (2ê°œ ì´ìƒ ê²½ë¡œ í•„ìš”)

### 6.2 ì œë¡œ íŒ¨í‚· ì†ì‹¤ (Zero Packet Loss) ë©”ì»¤ë‹ˆì¦˜

#### ì¼ë°˜ ë„¤íŠ¸ì›Œí¬ vs FRER

| í•­ëª© | ì¼ë°˜ ë„¤íŠ¸ì›Œí¬ | FRER |
|------|-------------|------|
| **ë§í¬ ì¥ì•  ì‹œ** | íŒ¨í‚· ì†ì‹¤ ë°œìƒ | **0% ì†ì‹¤** |
| **ë³µêµ¬ ì‹œê°„** | ìˆ˜ë°± ms ~ ìˆ˜ì´ˆ (STP) | **0 ms (ì¦‰ì‹œ)** |
| **ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜** | Spanning Tree Protocol | **ìë™ ê²½ë¡œ ì „í™˜** |
| **ì‚¬ìš©ì ì¸ì§€** | í†µì‹  ëŠê¹€ ë°œìƒ | **ëŠê¹€ ì—†ìŒ** |

#### ìˆœì°¨ì  ë°ì´í„° ì „ë‹¬ (Sequential Data Delivery)

```python
# ì‹œí€€ìŠ¤ ê¸°ë°˜ ìˆœì°¨ ì „ë‹¬ ë³´ì¥
Received Frames:
  Port 1: Seq=5, Seq=7, Seq=6   (ìˆœì„œ ë’¤ë°”ë€œ)
  Port 2: Seq=5, Seq=6, Seq=7   (ì •ìƒ ìˆœì„œ)

FRER Elimination:
  1. Seq=5 ë„ì°© (Port 1) â†’ ì „ë‹¬ âœ…
  2. Seq=5 ë„ì°© (Port 2) â†’ íê¸° (ì¤‘ë³µ)
  3. Seq=7 ë„ì°© (Port 1) â†’ ëŒ€ê¸° (ìˆœì„œ ì–´ê¸‹ë‚¨)
  4. Seq=6 ë„ì°© (Port 1) â†’ ì „ë‹¬ âœ…
  5. Seq=7 ì „ë‹¬ âœ… (ì´ì œ ìˆœì„œ ë§ìŒ)

ê²°ê³¼: 5, 6, 7 ìˆœì„œëŒ€ë¡œ ì „ë‹¬!
```

**Out-of-Order Detection:**
- FRERì€ ìˆœì„œ ë’¤ë°”ë€œì„ ê°ì§€í•˜ê³  ë²„í¼ë§
- ìˆœì„œ ë§ì„ ë•Œê¹Œì§€ ëŒ€ê¸° í›„ ì „ë‹¬
- **TCPì²˜ëŸ¼ ì¬ì „ì†¡ ë¶ˆí•„ìš”** (ì´ë¯¸ ë³µì œë³¸ ìˆìŒ)

### 6.3 ISO 26262 ASIL ë“±ê¸‰ ë‹¬ì„±

**ASIL (Automotive Safety Integrity Level)** ë“±ê¸‰:

| ë“±ê¸‰ | ìœ„í—˜ë„ | ìš”êµ¬ì‚¬í•­ | FRER ì í•©ì„± |
|------|--------|---------|------------|
| **ASIL A** | ë‚®ìŒ | ë‹¨ìˆœ ì‹ ë¢°ì„± | âœ… ì¶©ë¶„ |
| **ASIL B** | ì¤‘ê°„ | ì´ì¤‘í™” ê¶Œì¥ | âœ… ë§Œì¡± |
| **ASIL C** | ë†’ìŒ | ì´ì¤‘í™” í•„ìˆ˜ | âœ… ë§Œì¡± |
| **ASIL D** | ìµœê³  | ì´ì¤‘í™” + ê²€ì¦ | âœ… ë§Œì¡± (Wireshark ê²€ì¦) |

**FRERì˜ ASIL-D ë‹¬ì„± ê·¼ê±°:**
1. **ì´ì¤‘í™”**: 2ê°œ ë…ë¦½ ê²½ë¡œ (ë¬¼ë¦¬ì  ë¶„ë¦¬)
2. **ì œë¡œ ì†ì‹¤**: ë‹¨ì¼ ì¥ì• ì—ì„œ íŒ¨í‚· ì†ì‹¤ 0%
3. **ì¦‰ì‹œ ì „í™˜**: ë³µêµ¬ ì‹œê°„ 0ms
4. **ê²€ì¦ ê°€ëŠ¥**: ì‹œí€€ìŠ¤ ë²ˆí˜¸ë¡œ ì¶”ì  ê°€ëŠ¥
5. **í•˜ë“œì›¨ì–´ ì§€ì›**: ASIC ë ˆë²¨ êµ¬í˜„ (ì†Œí”„íŠ¸ì›¨ì–´ ë²„ê·¸ ì—†ìŒ)

---

## 7. ììœ¨ì£¼í–‰ ì°¨ëŸ‰ ì ìš©

### 7.1 ì°¨ëŸ‰ ë‚´ ë„¤íŠ¸ì›Œí¬ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ììœ¨ì£¼í–‰ ECU                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Perception  â”‚  â”‚  Planning   â”‚  â”‚  Control    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                 â”‚
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
          â”‚  â”‚     TSN Backbone Switch     â”‚  â”‚
          â”‚  â”‚      (FRER Enabled)         â”‚  â”‚
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
          â”‚                 â”‚                 â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
   â”‚   LiDAR     â”‚   â”‚   Camera    â”‚   â”‚   Radar    â”‚
   â”‚  (100Mbps)  â”‚   â”‚  (1Gbps)    â”‚   â”‚  (100Mbps) â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

FRER ì ìš©:
- Sensor â†’ ECU: ì´ì¤‘ ê²½ë¡œ (ì œë¡œ ì†ì‹¤ ë³´ì¥)
- ECU â†’ Actuator: ì´ì¤‘ ê²½ë¡œ (ì œë™/ì¡°í–¥ ëª…ë ¹ ì‹ ë¢°ì„±)
```

### 7.2 SAE J3016 ë ˆë²¨ë³„ ìš”êµ¬ì‚¬í•­

| ë ˆë²¨ | ì„¤ëª… | ë„¤íŠ¸ì›Œí¬ ìš”êµ¬ì‚¬í•­ | FRER í•„ìš”ì„± |
|------|------|------------------|------------|
| **Level 0-2** | ìš´ì „ì ì£¼ë„ | ì¼ë°˜ Ethernet | âŒ ë¶ˆí•„ìš” |
| **Level 3** | ì¡°ê±´ë¶€ ììœ¨ì£¼í–‰ | ì‹ ë¢°ì„± í–¥ìƒ | âš ï¸ ê¶Œì¥ |
| **Level 4** | ê³ ë„ ììœ¨ì£¼í–‰ | Fail-Operational | âœ… **í•„ìˆ˜** |
| **Level 5** | ì™„ì „ ììœ¨ì£¼í–‰ | Fail-Operational + ì¤‘ë³µì„± | âœ… **í•„ìˆ˜** |

**Level 4-5 ë„¤íŠ¸ì›Œí¬ ìš”êµ¬ì‚¬í•­:**
- ì œë¡œ íŒ¨í‚· ì†ì‹¤ (Safety-critical ë°ì´í„°)
- 10ms ì´í•˜ ë ˆì´í„´ì‹œ (ì‹¤ì‹œê°„ ì œì–´)
- ë‹¨ì¼ ì¥ì•  í—ˆìš© (Fail-Operational)
- ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë™ì‘ (Deterministic)

**FRERì´ ëª¨ë‘ ë§Œì¡±!**

### 7.3 ì‹¤ì œ ì ìš© ì‚¬ë¡€

#### Use Case 1: LiDAR â†’ ECU ì„¼ì„œ í“¨ì „

```
LiDAR Point Cloud (100Mbps ê³ ì • ëŒ€ì—­í­)
  â†“
FRER Replication (S1)
  â”œâ”€â†’ ê²½ë¡œ1: 3ms ë ˆì´í„´ì‹œ
  â””â”€â†’ ê²½ë¡œ2: 5ms ë ˆì´í„´ì‹œ
  â†“
FRER Elimination (S4)
  â†“
ECU Perception Module (3msì— ìˆ˜ì‹  ì™„ë£Œ)

ì¥ì :
- ê²½ë¡œ1 ì¥ì•  ì‹œ â†’ ê²½ë¡œ2ë¡œ 5msì— ìˆ˜ì‹  (ì§€ì—° +2msë§Œ)
- íŒ¨í‚· ì†ì‹¤ 0% â†’ LiDAR ë°ì´í„° ì™„ë²½ ë³´ì¡´
- ì‹¤ì‹œê°„ì„± ìœ ì§€ (10ms ì´ë‚´ ë³´ì¥)
```

#### Use Case 2: ECU â†’ ì œë™ ì‹œìŠ¤í…œ ëª…ë ¹ ì „ë‹¬

```
ECU Control Module
  â†“ ì œë™ ëª…ë ¹ (CAN â†’ Ethernet ë³€í™˜)
  â†“
FRER Replication
  â”œâ”€â†’ ê²½ë¡œ1 â†’ ì¢Œì¸¡ ì œë™ ECU
  â””â”€â†’ê²½ë¡œ2 â†’ ìš°ì¸¡ ì œë™ ECU
  â†“
ë¸Œë ˆì´í¬ ì‘ë™ (ì–‘ìª½ ë™ì‹œ ìˆ˜ì‹ )

ì¥ì :
- í•œìª½ ê²½ë¡œ ì¥ì•  ì‹œ â†’ ë‹¤ë¥¸ ìª½ìœ¼ë¡œ ì œë™ ëª…ë ¹ ë„ë‹¬
- ISO 26262 ASIL-D ë§Œì¡±
- ì œë™ ì‹¤íŒ¨ í™•ë¥  < 10^-9 (ê·¹íˆ ë‚®ìŒ)
```

### 7.4 FRER + 5G-URLLC ì—°ë™

**ì‹œë„ˆì§€ íš¨ê³¼:**
- **ì°¨ëŸ‰ ë‚´ë¶€ (In-Vehicle)**: FRERë¡œ ì´ì¤‘í™”
- **ì°¨ëŸ‰ ê°„ (V2V/V2X)**: 5G-URLLCë¡œ ë¬´ì„  ì´ì¤‘í™”
- **ì—£ì§€ ì»´í“¨íŒ…**: FRERë¡œ ì„œë²„â†”ì°¨ëŸ‰ ì‹ ë¢°ì„± í™•ë³´

```
ì°¨ëŸ‰A â”€ FRER â”€ 5G gNB â”€ URLLC â”€ MEC Server â”€ FRER â”€ ì°¨ëŸ‰B
       â””â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”˜
       ìœ ì„  ì´ì¤‘í™”      ë¬´ì„  ì´ì¤‘í™”           ìœ ì„  ì´ì¤‘í™”

â†’ End-to-End ì œë¡œ ì†ì‹¤ ë³´ì¥!
```

---

## 8. ê²°ë¡ 

### 8.1 FRER í•µì‹¬ ìš”ì•½

| í•­ëª© | ë‚´ìš© |
|------|------|
| **í‘œì¤€** | IEEE 802.1CB |
| **ëª©ì ** | ë„¤íŠ¸ì›Œí¬ ì´ì¤‘í™”ë¥¼ í†µí•œ Fail-Operational |
| **ë©”ì»¤ë‹ˆì¦˜** | í”„ë ˆì„ ë³µì œ (Replication) + ì¤‘ë³µ ì œê±° (Elimination) |
| **ì˜¤ë²„í—¤ë“œ** | R-TAG 4ë°”ì´íŠ¸ (í”„ë ˆì„ë‹¹ 0.3~6% ì¦ê°€) |
| **ì„±ëŠ¥ ì˜í–¥** | ë ˆì´í„´ì‹œ ê±°ì˜ ë™ì¼ (í•˜ë“œì›¨ì–´ ì˜¤í”„ë¡œë“œ) |
| **ì‹ ë¢°ì„±** | ì œë¡œ íŒ¨í‚· ì†ì‹¤, ì¦‰ì‹œ ì¥ì•  ì „í™˜ |
| **ì ìš© ë¶„ì•¼** | ììœ¨ì£¼í–‰, ì‚°ì—… ìë™í™”, í•­ê³µìš°ì£¼ |

### 8.2 ì‹¤ì¸¡ ë°ì´í„° ê¸°ë°˜ ê²€ì¦

âœ… **R-TAG 4ë°”ì´íŠ¸ ì¶”ê°€ì—ë„ ì„±ëŠ¥ ì €í•˜ ì—†ìŒ**
- ë ˆì´í„´ì‹œ ì°¨ì´: 0.3~0.4ms (ì˜¤ì°¨ ë²”ìœ„)
- ì²˜ë¦¬ëŸ‰: í”„ë ˆì„ í¬ê¸° ì¦ê°€ì— ë”°ë¥¸ ìì—°ìŠ¤ëŸ¬ìš´ ì¦ê°€

âœ… **2ë°° í”„ë ˆì„ ë³µì œ ì „ì†¡ì—ë„ íš¨ìœ¨ì **
- í•˜ë“œì›¨ì–´ ASIC ì²˜ë¦¬ (< 1 Âµs)
- ë§í¬ë‹¹ ë¶€í•˜ ë™ì¼ (ì´ì¤‘ ê²½ë¡œ ë¶„ì‚°)

âœ… **ì œë¡œ íŒ¨í‚· ì†ì‹¤ ê²€ì¦**
- ë‹¨ì¼ ë§í¬ ì¥ì•  ì‹œ íŒ¨í‚· ì†ì‹¤ 0%
- ë³µêµ¬ ì‹œê°„ 0ms (ì¦‰ì‹œ ì „í™˜)

âœ… **ISO 26262 ASIL-D ë§Œì¡±**
- ì´ì¤‘í™” + ìˆœì°¨ ì „ë‹¬ + ê²€ì¦ ê°€ëŠ¥

### 8.3 ììœ¨ì£¼í–‰ ì°¨ëŸ‰ í•„ìˆ˜ ê¸°ìˆ 

**FRERì€ SAE J3016 Level 4-5 ììœ¨ì£¼í–‰ ì°¨ëŸ‰ì˜ In-Vehicle Networkì—ì„œ Fail-Operational íŠ¹ì„±ì„ í™•ë³´í•˜ê¸° ìœ„í•œ í•µì‹¬ ê¸°ë°˜ ê¸°ìˆ ì…ë‹ˆë‹¤.**

- ì„¼ì„œ ë°ì´í„° ë¬´ì†ì‹¤ ì „ì†¡
- ì œì–´ ëª…ë ¹ ì‹ ë¢°ì„± í™•ë³´
- ì‹¤ì‹œê°„ì„± ìœ ì§€
- í‘œì¤€ ê¸°ë°˜ ìƒí˜¸ ìš´ìš©ì„±

**â†’ FRER ì—†ì´ëŠ” ì™„ì „ ììœ¨ì£¼í–‰ ë¶ˆê°€ëŠ¥!**

---

## ì°¸ê³  ìë£Œ

1. IEEE 802.1CB-2017, "Frame Replication and Elimination for Reliability"
2. SAE J3016, "Taxonomy and Definitions for Terms Related to Driving Automation Systems"
3. ISO 26262, "Road vehicles â€” Functional safety"
4. ISO/PAS 21448, "Road vehicles â€” Safety of the intended functionality (SOTIF)"
5. Kontron D10 (LAN9668) Data Sheet
6. ê¹€í˜„ìš°, ë°•ë¶€ì‹, "ìë™ì°¨ ì´ë”ë„·ì˜ ì‹ ë¢°ì„± í™•ë³´ë¥¼ ìœ„í•œ FRER ê¸°ë°˜ TSN ì´ì¤‘í™” ê¸°ë²• ì ìš© ë° ì„±ëŠ¥ ê²€ì¦", KSAE, 2025

---

**ì‘ì„±:** ê¹€í˜„ìš°, KETI ëª¨ë¹Œë¦¬í‹°í”Œë«í¼ì—°êµ¬ì„¼í„°
**ìµœì¢… ìˆ˜ì •:** 2025-11-04
